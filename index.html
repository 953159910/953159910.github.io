
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æé¸¡ä¸“å®¶</title>
    <style>
        body { text-align: center; padding: 50px 20px; font-family: Arial, sans-serif; margin: 0; }
        .title { font-size: 48px; color: #333; margin-bottom: 30px; }
        .counter { font-size: 60px; font-weight: bold; color: #e74c3c; margin: 20px 0; }
        .main-btn { 
            padding: 15px 40px; 
            font-size: 24px; 
            background: #3498db; 
            color: white; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            margin-bottom: 40px;
        }
        .main-btn:hover { background: #2980b9; }
        .func-btns { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; margin-top: 20px; }
        .func-btn {
            padding: 12px 25px;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: #2ecc71;
            color: white;
            display: flex;
            flex-direction: column;
            gap: 8px;
            min-width: 180px;
        }
        .func-btn:disabled { background: #bdc3c7; cursor: not-allowed; }
        .func-desc { font-size: 14px; opacity: 0.9; line-height: 1.2; }
        .modal {
            position: fixed; 
            top: 0; left: 0; 
            width: 100%; height: 100%; 
            background: rgba(0,0,0,0.7); 
            display: none; 
            justify-content: center; 
            align-items: center; 
            z-index: 100;
        }
        .modal-content {
            background: white; 
            padding: 40px; 
            border-radius: 10px; 
            font-size: 32px; 
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <h1 class="title">æé¸¡ä¸“å®¶ğŸ”</h1>
    <div class="counter" id="counter">0</div>
    <button class="main-btn" id="clickBtn">æä¸€æ¬¡é¸¡ğŸ”</button>

    <div class="func-btns">
        <button class="func-btn" id="multiBtn">
            æ¯æ¬¡å¤šæä¸€ä¸‹
            <span class="func-desc">ä»·æ ¼ï¼š10æ¬¡ | å½“å‰ç­‰çº§ï¼š1çº§ï¼ˆ+1/æ¬¡ï¼‰</span>
        </button>
        <button class="func-btn" id="autoBtn">
            è‡ªåŠ¨ç‚¹å‡»
            <span class="func-desc">ä»·æ ¼ï¼š50æ¬¡ | å½“å‰ç­‰çº§ï¼š1çº§ï¼ˆ1æ¬¡/ç§’ï¼‰</span>
        </button>
        <button class="func-btn" id="doubleBtn">
            é™æ—¶30ç§’2å€æ•°
            <span class="func-desc">ç”Ÿæ•ˆï¼š0ç§’ | å†·å´ï¼š0ç§’</span>
        </button>
    </div>

    <div class="modal" id="easterEgg">
        <div class="modal-content">æˆ‘å»ï¼Œæäº†è¿™ä¹ˆå¤šä¸‹ï¼Œå¤ªç‰›äº†ï¼ğŸ‘ğŸ‘ğŸ‘</div>
    </div>

    <script>
        let count = 0;
        // åŠŸèƒ½é…ç½®ï¼šåˆå§‹ä»·æ ¼+é€’å¢ç³»æ•°ï¼ˆæ¯æ¬¡å‡çº§ä»·æ ¼Ã—ç³»æ•°ï¼Œå–æ•´ï¼‰
        let multiLevel = 1;
        const multiBase = 10;    // å¤šæåˆå§‹ä»·æ ¼
        const multiCoeff = 1.5;  // å¤šæä»·æ ¼é€’å¢ç³»æ•°
        let autoLevel = 1;
        const autoBase = 50;     // è‡ªåŠ¨ç‚¹å‡»åˆå§‹ä»·æ ¼
        const autoCoeff = 1.6;   // è‡ªåŠ¨ç‚¹å‡»ä»·æ ¼é€’å¢ç³»æ•°
        let isDouble = false;
        let doubleCd = 0;
        let doubleRemain = 0;    // ä¸¤å€é€Ÿå‰©ä½™ç”Ÿæ•ˆæ—¶é—´

        // DOMå…ƒç´ 
        const counterEl = document.getElementById('counter');
        const clickBtn = document.getElementById('clickBtn');
        const modal = document.getElementById('easterEgg');
        const multiBtn = document.getElementById('multiBtn');
        const autoBtn = document.getElementById('autoBtn');
        const doubleBtn = document.getElementById('doubleBtn');
        const eggNums = [13, 78, 91, 2778];

        // è®¡ç®—å½“å‰åŠŸèƒ½ä»·æ ¼ï¼ˆç®—æ³•ï¼šåˆå§‹ä»·æ ¼ Ã— ç³»æ•°^(ç­‰çº§-1)ï¼Œå‘ä¸Šå–æ•´ï¼‰
        function calcPrice(base, coeff, level) {
            return Math.ceil(base * Math.pow(coeff, level - 1));
        }

        // åŸºç¡€è®¡æ•°
        function addCount(num) {
            count += num * (isDouble ? 2 : 1);
            counterEl.textContent = count;
            checkEasterEgg();
            updateBtnStates();
        }

        // æ£€æŸ¥å½©è›‹
        function checkEasterEgg() {
            if (eggNums.includes(count)) {
                modal.style.display = 'flex';
                setTimeout(() => modal.style.display = 'none', 3000);
            }
        }

        // æ›´æ–°æ‰€æœ‰æŒ‰é’®çŠ¶æ€+æ–‡æ¡ˆ
        function updateBtnStates() {
            const multiPrice = calcPrice(multiBase, multiCoeff, multiLevel);
            const autoPrice = calcPrice(autoBase, autoCoeff, autoLevel);

            // æ¯æ¬¡å¤šæ
            multiBtn.disabled = count < multiPrice;
            multiBtn.querySelector('.func-desc').textContent = 
                `ä»·æ ¼ï¼š${multiPrice}æ¬¡ | å½“å‰ç­‰çº§ï¼š${multiLevel}çº§ï¼ˆ+${multiLevel}/æ¬¡ï¼‰`;
            
            // è‡ªåŠ¨ç‚¹å‡»
            autoBtn.disabled = count < autoPrice;
            autoBtn.querySelector('.func-desc').textContent = 
                `ä»·æ ¼ï¼š${autoPrice}æ¬¡ | å½“å‰ç­‰çº§ï¼š${autoLevel}çº§ï¼ˆ${autoLevel}æ¬¡/ç§’ï¼‰`;
            
            // ä¸¤å€é€Ÿï¼ˆæ˜¾ç¤ºç”Ÿæ•ˆå‰©ä½™æ—¶é—´+å†·å´æ—¶é—´ï¼‰
            doubleBtn.disabled = doubleCd > 0;
            doubleBtn.querySelector('.func-desc').textContent = 
                `ç”Ÿæ•ˆï¼š${doubleRemain}ç§’ | å†·å´ï¼š${doubleCd > 0 ? doubleCd + 'ç§’' : '0ç§’'}`;
        }

        // å…¨å±€å®šæ—¶å™¨ï¼šæ›´æ–°å†·å´+ç”Ÿæ•ˆæ—¶é—´
        setInterval(() => {
            // å†·å´å€’è®¡æ—¶
            if (doubleCd > 0) doubleCd--;
            // ç”Ÿæ•ˆæ—¶é—´å€’è®¡æ—¶
            if (doubleRemain > 0) {
                doubleRemain--;
                if (doubleRemain === 0) isDouble = false; // æ—¶é—´åˆ°å…³é—­ä¸¤å€é€Ÿ
            }
            updateBtnStates();
        }, 1000);

        // ä¸»æŒ‰é’®
        clickBtn.addEventListener('click', () => addCount(multiLevel));

        // æ¯æ¬¡å¤šæï¼ˆå‡çº§ï¼‰
        multiBtn.addEventListener('click', () => {
            const multiPrice = calcPrice(multiBase, multiCoeff, multiLevel);
            if (count >= multiPrice) {
                count -= multiPrice;
                multiLevel++;
                addCount(0); // è§¦å‘çŠ¶æ€æ›´æ–°
            }
        });

        // è‡ªåŠ¨ç‚¹å‡»ï¼ˆå‡çº§ï¼‰
        autoBtn.addEventListener('click', () => {
            const autoPrice = calcPrice(autoBase, autoCoeff, autoLevel);
            if (count >= autoPrice) {
                count -= autoPrice;
                autoLevel++;
                clearInterval(window.autoInterval);
                // è‡ªåŠ¨ç‚¹å‡»é¢‘ç‡ï¼šç­‰çº§è¶Šé«˜ï¼Œé—´éš”è¶ŠçŸ­ï¼ˆ1ç§’/ç­‰çº§ æ¬¡ï¼‰
                window.autoInterval = setInterval(() => addCount(autoLevel), 1000 / autoLevel);
                addCount(0);
            }
        });

        // é™æ—¶ä¸¤å€é€Ÿ
        doubleBtn.addEventListener('click', () => {
            isDouble = true;
            doubleRemain = 30; // ç”Ÿæ•ˆ30ç§’
            doubleCd = 60;    // å†·å´60ç§’
            updateBtnStates();
        });

        // åˆå§‹åŒ–
        updateBtnStates();
    </script>
</body>
</html>
